<?xml version="1.0" encoding="UTF-8"?>
<!--
 *	Mark's Code Fractal CFKBase 3.1 Code Fractal Knowledge Base
 *
 *	Copyright 2016-2025 Mark Stephen Sobkow
 *
 *	This file is part of Mark's Code Fractal CFKBase.
 *
 *	Mark's Code Fractal CFKBase is available under dual commercial license from
 *	Mark Stephen Sobkow, or under the terms of the GNU General Public License,
 *	Version 3 or later.
 *
 *	Mark's Code Fractal CFKBase is free software: you can redistribute it and/or
 *	modify it under the terms of the GNU General Public License as published by
 *	the Free Software Foundation, either version 3 of the License, or
 *	(at your option) any later version.
 *
 *	Mark's Code Fractal CFKBase is distributed in the hope that it will be useful,
 *	but WITHOUT ANY WARRANTY; without even the implied warranty of
 *	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *	GNU General Public License for more details.
 *
 *	You should have received a copy of the GNU General Public License
 *	along with Mark's Code Fractal CFKBase.  If not, see &lt;https://www.gnu.org/licenses/&gt;.
 *
 *	If you wish to modify and use this code without publishing your changes,
 *	or integrate it with proprietary code, please contact Mark Stephen Sobkow
 *	for a commercial license at mark.sobkow@gmail.com
 * -->
<RuleSet
    xmlns="http://msscf.org:8088/msscf/2.0.13/xsd/cfgenkb-2.13-ruleset.xsd"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:xs="http://www.w3.org/2001/XMLSchema"
    xsi:schemaLocation="http://msscf.org:8088/msscf/2.0.13/xsd/cfgenkb-2.13-ruleset.xsd http://msscf.org:8088/msscf/2.0.13/xsd/cfgenkb-2.13-ruleset.xsd"
    ToolSet="java"
    Name="src/schema/jpa/SchemaJpaTableH.java"
    Revision="3.0"
    Descr="Java JPA implementation of a $TableName$ history object">

    <GenFile GenDef="Table" Name="fileSchemaJpaTableHJava"
                    GenerateOnce="false"
            ModuleName="$reference ManufacturingSchema lower JavaPackage$"
            SourceBundle="java"
            BasePackageName="$reference ManufacturingSchema lower JavaPackage$.$reference ManufacturingSchema lower SchemaName$/src/main/java"
            SubPackageName="$reference ManufacturingSchema lower JavaPackage$.$reference ManufacturingSchema lower SchemaName$.jpa"
            ExpansionClassName="$SchemaName$Jpa$TableName$HJava"
            ExpansionKeyName="$SchemaName$Jpa$TableName$HJava"
            ExpansionFileName="$SchemaName$Jpa$TableName$H.java"
>// Description: Java JPA implementation of $TableName$ history objects

$MssSourceLicense$

package $reference ManufacturingSchema lower JavaPackage$.$reference ManufacturingSchema lower SchemaName$.jpa;

import java.io.Serializable;
import java.math.*;
import java.time.*;
import java.util.*;
import jakarta.persistence.*;
import jakarta.transaction.Transactional;
import org.apache.commons.codec.binary.Base64;
import org.apache.commons.text.StringEscapeUtils;
import server.markhome.mcf.v3_1.cflib.*;
import server.markhome.mcf.v3_1.cflib.dbutil.*;
import server.markhome.mcf.v3_1.cflib.xml.CFLibXmlUtil;$poptop SchemaDef iterate SchemaRefs( each importJavaPackageSchemaName empty empty )$
import $reference ManufacturingSchema lower JavaPackage$.$lower reference ManufacturingSchema SchemaName$.*;$poptop SchemaDef iterate SchemaRefs( each importJavaPackageSchemaNameJpa empty empty )$

/**
 *  $SchemaName$Jpa$TableName$H provides history objects matching the $SchemaName$$TableName$ change history.
 */
@Entity
@Table(
    name = "$DbTableName$_h", schema = "$reference ManufacturingSchema DbSchemaName$",
    indexes = {$iterate Index( each commaJpaTableHIndexAnnotation first jpaTableHIndexAnnotation empty empty )$
    }
)$switch MemberOfClassHierarchy yes jpaInheritanceJoined default empty$$jpaTransactionalSupports$$jpaPersistenceContext$
public class $SchemaName$Jpa$TableName$H$switch HasSuperClassRelation yes implHJPAInheritSuper default empty$$switch HasDefSchema yes empty default maybeImplSchemaTableHComparable$
{$switch HasSuperClassRelation yes empty default implHJPAPKeyAttribute$$switch HasSuperClassRelation yes empty default implJpaOptAuditColumnAttr$$implHJPADataAttr$
$implHJPAConstructor$$implHJPAGetClassCode$$maybeImplHJPAOptImplAuditColumnAccessors$$switch HasSuperClassRelation no implHJPAColumnGetterSetters default implHJPADataGetterSetters$$implHJPAEquals$$implHJPAGetHashCode$$implHJPACompareTo$$implHJPASet$$implSchemaJpaTableHToString$}
</GenFile>

    <!--GenRule GenDef="Table" Name="jpaInheritanceJoined">
@Inheritance(strategy = InheritanceType.JOINED)$baseTableJpaDiscriminatorColumn$</GenRule-->

    <GenRule GenDef="Table" Name="maybeImplSchemaTableHComparable">$switch HasSuperClassRelation yes implJpaSchemaTableHComparableTable default implJpaSchemaTableHComparable$</GenRule>

    <GenRule GenDef="Table" Name="implJpaSchemaTableHComparableTable">
    implements I$DefSchemaName$$TableName$H</GenRule>

    <GenRule GenDef="Table" Name="implJpaSchemaTableHComparable">
    implements I$DefSchemaName$$TableName$H, Comparable&lt;Object&gt;, Serializable</GenRule>

    <GenRule GenDef="Index" Name="commaJpaTableHIndexAnnotation">,$jpaTableHIndexAnnotation$</GenRule>
    <GenRule GenDef="Index" Name="jpaTableHIndexAnnotation">$switch IsPrimaryIndex yes jpaTableHPrimaryIndexAnnotation default jpaTableHOrdinaryIndexAnnotation$</GenRule>
    <GenRule GenDef="Index" Name="jpaTableHOrdinaryIndexAnnotation">
        @Index(name = "$IndexName$_h", columnList = "$jpaTableHIndexColumnList$", unique = $switch IsUnique yes true default false$)</GenRule>
    <GenRule GenDef="Index" Name="jpaTableHPrimaryIndexAnnotation">
        @Index(name = "$IndexName$_h", columnList = "auditClusterId, auditStamp, auditAction, requiredRevision, auditSessionId, $jpaTableHIndexColumnList$", unique = true)</GenRule>
    <GenRule GenDef="Index" Name="jpaTableHIndexColumnList">$iterate Columns( each CommaDbColumnName first DbColumnName empty empty )$</GenRule>

    <GenRule GenDef="Table" Name="implHJPAPKeyAttribute">$reference PrimaryKeyIndex implJpaHPKeyAttributeOverrides$
    @EmbeddedId
    protected $reference BaseClass DefSchemaName$Jpa$reference BaseClass TableName$HPKey pkey;</GenRule>

    <GenRule GenDef="Table" Name="maybeImplHJPAOptImplAuditColumnAccessors">$switch HasSuperClassRelation no implHJPAOptImplAuditColumnAccessors default empty$</GenRule>
    <GenRule GenDef="Table" Name="implHJPAOptImplAuditColumnAccessors">$switch HasAuditColumns yes implHJPAColumnOptAuditGetterSetters default empty$</GenRule>

    <GenRule GenDef="Table" Name="implHJPAPKeyAccessors">
    @Override
    public I$reference BaseClass DefSchemaName$$reference BaseClass TableName$HPKey getPKey() {
        return( pkey );
    }

    @Override
    public void setPKey( I$reference BaseClass DefSchemaName$$reference BaseClass TableName$HPKey pkey ) {
        if (pkey != null) {
            if (pkey instanceof $reference BaseClass DefSchemaName$Jpa$reference BaseClass TableName$HPKey) {
                this.pkey = ($reference BaseClass DefSchemaName$Jpa$reference BaseClass TableName$HPKey)pkey;
            }
            else {
                throw new CFLibUnsupportedClassException(getClass(), "setPKey", "pkey", pkey, "$reference BaseClass DefSchemaName$Jpa$reference BaseClass TableName$HPKey");
            }
        }
    }

    @Override
    public long getAuditClusterId() {
        return pkey.getAuditClusterId();
    }

    @Override
    public void setAuditClusterId(long auditClusterId) {
        pkey.setAuditClusterId(auditClusterId);
    }

    @Override
    public LocalDateTime getAuditStamp() {
        return pkey.getAuditStamp();
    }

    @Override
    public void setAuditStamp(LocalDateTime auditStamp) {
        pkey.setAuditStamp(auditStamp);
    }

    @Override
    public short getAuditActionId() {
        return pkey.getAuditActionId();
    }

    @Override
    public void setAuditActionId(short auditActionId) {
        pkey.setAuditActionId(auditActionId);
    }

    @Override
    public int getRequiredRevision() {
        return pkey.getRequiredRevision();
    }

    @Override
    public void setRequiredRevision(int revision) {
        pkey.setRequiredRevision(revision);
    }

    @Override
    public CFLibDbKeyHash256 getAuditSessionId() {
        return pkey.getAuditSessionId();
    }

    @Override
    public void setAuditSessionId(CFLibDbKeyHash256 auditSessionId) {
        pkey.setAuditSessionId(auditSessionId);
    }
</GenRule>

    <GenRule GenDef="Table" Name="maybeImplHJPAColumnOptAuditGetterSetters">$switch HasSuperClassRelation yes empty default implHJPAColumnOptAuditGetterSetters$</GenRule>
    <GenRule GenDef="Table" Name="implHJPAColumnOptAuditGetterSetters"
        >$switch HasAuditColumns yes implHJPAColumnAuditGetterSetters default empty$</GenRule>

    <GenRule GenDef="Table" Name="implHJPAColumnAuditGetterSetters">
    @Override
    public CFLibDbKeyHash256 getCreatedByUserId() {
        return( createdByUserId );
    }

    @Override
    public void setCreatedByUserId( CFLibDbKeyHash256 value ) {
        if (value == null || value.isNull()) {
            throw new CFLibNullArgumentException(getClass(), "setCreatedByUserId", 1, "value");
        }
        createdByUserId = value;
    }

    @Override
    public LocalDateTime getCreatedAt() {
        return( createdAt );
    }

    @Override
    public void setCreatedAt( LocalDateTime value ) {
        if (value == null) {
            throw new CFLibNullArgumentException(getClass(), "setCreatedAt", 1, "value");
        }
        createdAt = value;
    }

    @Override
    public CFLibDbKeyHash256 getUpdatedByUserId() {
        return( updatedByUserId );
    }

    @Override
    public void setUpdatedByUserId( CFLibDbKeyHash256 value ) {
        if (value == null || value.isNull()) {
            throw new CFLibNullArgumentException(getClass(), "setUpdatedByUserId", 1, "value");
        }
        updatedByUserId = value;
    }

    @Override
    public LocalDateTime getUpdatedAt() {
        return( updatedAt );
    }

    @Override
    public void setUpdatedAt( LocalDateTime value ) {
        if (value == null) {
            throw new CFLibNullArgumentException(getClass(), "setUpdatedAt", 1, "value");
        }
        updatedAt = value;
    }
</GenRule>

    <GenRule GenDef="Atom" Name="implHJPAPKeyAttrAccessors">
    @Override
    public $implJavaAtomType$ get$implColumnAttrOptionality$$Name$() {
        return( pkey.get$implColumnAttrOptionality$$Name$() );
    }

    @Override
    public void set$implColumnAttrOptionality$$Name$( $implJavaAtomType$ $lower implColumnAttrOptionality$$Name$ ) {
        pkey.set$implColumnAttrOptionality$$Name$( $lower implColumnAttrOptionality$$Name$ );
    }
</GenRule>

    <GenRule GenDef="TableCol" Name="implHJPAPKeyAttrAccessors">
    @Override
    public $implJavaAtomType$ get$implColumnAttrOptionality$$Name$() {
        return( pkey.get$implColumnAttrOptionality$$Name$() );
    }

    @Override
    public void set$implColumnAttrOptionality$$Name$( $implJavaAtomType$ $lower implColumnAttrOptionality$$Name$ ) {
        pkey.set$implColumnAttrOptionality$$Name$( $lower implColumnAttrOptionality$$Name$ );
    }
</GenRule>

    <GenRule GenDef="IndexCol" Name="implHJPAPKeyAttrAccessors">
    @Override
    public $implJavaAtomType$ get$implColumnAttrOptionality$$Name$() {
        return( pkey.get$implColumnAttrOptionality$$Name$() );
    }

    @Override
    public void set$implColumnAttrOptionality$$Name$( $implJavaAtomType$ $lower implColumnAttrOptionality$$Name$ ) {
        pkey.set$implColumnAttrOptionality$$Name$( $lower implColumnAttrOptionality$$Name$ );
    }
</GenRule>

    <GenRule GenDef="Table" Name="implHJPAColumnGetterSetters"
        >$implHJPAPKeyAccessors$$reference PrimaryKeyIndex iterate Columns( each implHJPAPKeyAttrAccessors empty empty )$$implHJPADataGetterSetters$</GenRule>

    <GenRule GenDef="Table" Name="implHJPADataGetterSetters"
            >$iterate DataColumns( each implColumnGetterSetter empty empty )$</GenRule>

    <GenRule GenDef="Table" Name="implHJPADataAttr"
            >$iterate DataColumns( each implJpaColumnAttr empty empty )$</GenRule>

    <GenRule GenDef="Table" Name="implHJPAInheritSuper"> extends $SchemaName$Jpa$reference SuperClassRelation reference ToTable TableName$H</GenRule>

    <GenRule GenDef="Table" Name="implHJPAGetClassCode">
    @Override
    public int getClassCode() {
            return( I$SchemaName$$TableName$.CLASS_CODE );
    }
</GenRule>

    <GenRule GenDef="Table" Name="implHJPAConstructor">
    public $SchemaName$Jpa$TableName$H() {$switch HasSuperClassRelation yes implHJPAConstructorInvokeSuper default implHJPAConstructorInitPKey$$implHJPAConstructorInitDataColumns$
    }
</GenRule>

    <GenRule GenDef="Table" Name="implHJPAConstructorInitPKey">
            // The primary key member attributes are initialized on construction
            pkey = new $DefSchemaName$Jpa$TableName$HPKey();</GenRule>

    <GenRule GenDef="Table" Name="implHJPAConstructorInvokeSuper">
            super();</GenRule>

    <GenRule GenDef="Table" Name="implHJPAConstructorInitDataColumns">$iterate DataColumns( each implConstructorInitAttr empty empty )$</GenRule>

    <GenRule GenDef="Table" Name="implHJPAEquals">
    @Override
    public boolean equals( Object obj ) {
        if (obj == null) {
            return( false );
        }
        else if (obj instanceof I$SchemaName$$TableName$) {
            I$SchemaName$$TableName$ rhs = (I$SchemaName$$TableName$)obj;$switch HasSuperClassRelation yes implJpaEqualsInvokeSuper default implHJPAEqualsCheckHPKeyMember$$implJpaEqualsDataCols$
            return( true );
        }
        else if (obj instanceof I$SchemaName$$TableName$H) {$switch HasSuperClassRelation yes implJpaEqualsSuper default empty$
            I$SchemaName$$TableName$H rhs = (I$SchemaName$$TableName$H)obj;$switch HasSuperClassRelation yes implJpaEqualsInvokeSuper default implHJPAEqualsCheckHPKeyMember$$implJpaEqualsDataCols$
            return( true );
        }
        else if (obj instanceof I$reference BaseClass SchemaName$$reference BaseClass TableName$HPKey) {$switch HasSuperClassRelation yes implJpaEqualsReturnSuperEquals default implHJPAEqualsHPKeyCols$
        }$iterate Index( each maybeImplJpaSchemaTableHEqualsIndexKey empty empty )$
        else {$switch HasSuperClassRelation yes implJpaEqualsReturnSuperEquals default implJpaEqualsReturnFalse$
        }
    }
    </GenRule>

    <GenRule GenDef="Index" Name="maybeImplJpaSchemaTableHEqualsIndexKey">$switch IsPrimaryIndex yes empty default implJpaSchemaTableHEqualsIndexKey$</GenRule>
    <GenRule GenDef="Index" Name="implJpaSchemaTableHEqualsIndexKey">
        else if (obj instanceof I$SchemaName$$TableName$By$Suffix$Key) {
            I$SchemaName$$TableName$By$Suffix$Key rhs = (I$SchemaName$$TableName$By$Suffix$Key)obj;$iterate Columns( each implEqualsCmpAttr )$
            return( true );
        }</GenRule>

    <GenRule GenDef="Table" Name="implJpaEqualsInvokeSuper">
        if (!super.equals(obj)) {
            return( false );
        }</GenRule>

    <GenRule GenDef="Table" Name="implHJPAEqualsCheckHPKeyMember">
		if (getPKey() != null) {
			if (rhs.getPKey() != null) {
				if (!getPKey().equals(rhs.getPKey())) {
					return( false );
				}
			}
			else {
				return( false );
			}
		}
		else if (rhs.getPKey() != null) {
			return( false );
		}
</GenRule>

    <GenRule GenDef="Table" Name="implHJPAEqualsHPKeyCols">
		I$SchemaName$$TableName$HPKey rhs = (I$SchemaName$$TableName$HPKey)obj;$reference PrimaryKeyIndex iterate Columns( each implEqualsCmpAttr )$
		return( true );</GenRule>


    <GenRule GenDef="Object" Name="implHJPAEqualsInvokeSuper">
        if (!super.equals(obj)) {
            return( false );
        }</GenRule>

    <GenRule GenDef="Object" Name="implHJPAEqualsPKeyMember">
        else if (!getPKey().equals(rhs.getPKey())) {
            return( false );
        }</GenRule>

    <GenRule GenDef="Table" Name="implJpaSchemaTableHEqualsPKeys">$implHJPAEqualsPKey$$implHJPAEqualsHPKey$</GenRule>

    <GenRule GenDef="Table" Name="implHJPAGetHashCode">
    @Override
    public int hashCode() {$switch HasSuperClassRelation no implHJPAGetHashCodeInitHashCode default implHJPAGetHashCodeInitSuper$$iterate DataColumns( each implGetHashCodeAttr empty empty )$
        return( hashCode &amp; 0x7fffffff );
    }
</GenRule>

    <GenRule GenDef="Table" Name="implHJPAGetHashCodeInitHashCode">
        int hashCode = pkey.hashCode();</GenRule>
    <GenRule GenDef="Table" Name="implHJPAGetHashCodeInitSuper">
        int hashCode = super.hashCode();</GenRule>

    <GenRule GenDef="Table" Name="implHJPACompareTo">
    @Override
    public int compareTo( Object obj ) {
        int cmp;
        if (obj == null) {
            return( 1 );
        }
        else if (obj instanceof I$SchemaName$$TableName$) {$switch HasSuperClassRelation yes implHJPACompareToCheckSuperCompareToObj default implHJPAComparePKeyMembers$$iterate DataColumns( each implCompareToAttr empty empty )$
            return( 0 );
        }
        else if (obj instanceof I$reference BaseClass SchemaName$$reference BaseClass TableName$HPKey) {$switch HasSuperClassRelation yes implHJPACompareToReturnSuperCompareTo default implHJPACompareToPKeyMemberAttrs$
        }
        else if (obj instanceof I$SchemaName$$TableName$H) {$switch HasSuperClassRelation yes implHJPACompareToCheckSuperCompareToHObj default implHJPACompareHPKeyMembers$$iterate DataColumns( each implCompareToAttr empty empty )$
            return( 0 );
        }$iterate Index( each maybeImplHJPACompareToIndexKey empty empty )$
        else {$switch HasSuperClassRelation no implHJPACompareToThrowUnsupportedClass default implHJPACompareToReturnSuperCompareTo$
        }
    }</GenRule>

    <GenRule GenDef="Table" Name="implHJPACompareToThrowUnsupportedClass">
            throw new CFLibUnsupportedClassException( getClass(),
                "compareTo",
                "obj",
                obj,
                null );</GenRule>

    <GenRule GenDef="Index" Name="maybeImplHJPACompareToIndexKey">$switch IsPrimaryIndex yes empty default implHJPACompareToIndexKey$</GenRule>

    <GenRule GenDef="Index" Name="implHJPACompareToIndexKey">
        else if (obj instanceof I$SchemaName$$TableName$By$Suffix$Key ) {
            I$SchemaName$$TableName$By$Suffix$Key rhs = (I$SchemaName$$TableName$By$Suffix$Key)obj;$iterate Columns( each implCompareToAttr empty empty )$
            return( 0 );
        }</GenRule>

    <GenRule GenDef="Table" Name="implHJPACompareToReturnSuperCompareTo">
        return( super.compareTo(obj) );</GenRule>

    <GenRule GenDef="Table" Name="implHJPACompareToPKeyMemberAttrs">
        if (getPKey() != null) {
            return( getPKey().compareTo( obj ));
        }
        else {
            return( -1 );
        }</GenRule>

    <GenRule GenDef="Table" Name="implHJPACompareToCheckSuperCompareToObj">
        cmp = super.compareTo(obj);
        if (cmp != 0) {
            return( cmp );
        }
        I$SchemaName$$TableName$ rhs = (I$SchemaName$$TableName$)obj;</GenRule>

    <GenRule GenDef="Table" Name="implHJPACompareToCheckSuperCompareToHObj">
        cmp = super.compareTo(obj);
        if (cmp != 0) {
            return( cmp );
        }
        I$SchemaName$$TableName$H rhs = (I$SchemaName$$TableName$H)obj;</GenRule>

    <GenRule GenDef="Table" Name="implHJPAComparePKeyMembers">
		I$SchemaName$$TableName$ rhs = (I$SchemaName$$TableName$)obj;
		if (getPKey() != null) {
			if (rhs.getPKey() == null) {
				return( 1 );
			}
			else {
				cmp = getPKey().compareTo(rhs.getPKey());
				if (cmp != 0) {
					return( cmp );
				}
			}
		}
		else {
			if (rhs.getPKey() != null) {
				return( -1 );
			}
		}</GenRule>

    <GenRule GenDef="Table" Name="implHJPACompareHPKeyMembers">
		I$SchemaName$$TableName$H rhs = (I$SchemaName$$TableName$H)obj;
		if (getPKey() != null) {
			if (rhs.getPKey() == null) {
				return( 1 );
			}
			else {
				cmp = getPKey().compareTo(rhs.getPKey());
				if (cmp != 0) {
					return( cmp );
				}
			}
		}
		else {
			if (rhs.getPKey() != null) {
				return( -1 );
			}
		}</GenRule>

    <GenRule GenDef="Object" Name="implHJPACompareToPKeyMember">
		if (getPKey() == null) {
			if (rhs.getPKey() != null) {
				return( -1 );
			}
		}
		else {
			if (rhs.getPKey() == null) {
				return( 1 );
			}
			else {
				cmp = getPKey().compareTo(rhs.getPKey());
				if (cmp != 0) {
					return( cmp );
				}
			}
		}</GenRule>

    <GenRule GenDef="Table" Name="implHJPACompareAuditAttributes"
            >$implHPKeyCompareToAuditClusterId$$implHPKeyCompareToAuditStamp$$implHPKeyCompareToAuditActionId$$implHPKeyCompareToRequiredRevision$$implHPKeyCompareToAuditSessionId$</GenRule>

    <GenRule GenDef="Table" Name="implHJPAEqualsAuditAttributes"
            >$implHPKeyEqualsAuditClusterId$$implHPKeyEqualsAuditStamp$$implHPKeyEqualsAuditActionId$$implHPKeyEqualsRequiredRevision$$implHPKeyEqualsAuditSessionId$</GenRule>

    <GenRule GenDef="Index" Name="maybeImplHJPAMethCompareToIndex"
            >$switch IsPrimaryIndex yes empty default implHJPAMethCompareToIndex$</GenRule>

    <GenRule GenDef="Index" Name="implHJPAMethCompareToIndex">
    @Override
    public int compareTo( I$SchemaName$$popto Table TableName$By$Suffix$Key rhs ) {
$iterate Columns( each implCompareToAttr )
$		return( 0 );
    }
</GenRule>

    <GenRule GenDef="Table" Name="implHJPASet">
	@Override
    public void set( I$reference BaseClass DefSchemaName$$reference BaseClass TableName$ src ) {$switch HasSuperClassRelation yes implJpaSetWithCast default implJpaSetDirect$
    }

	@Override
    public void set$TableName$( I$DefSchemaName$$TableName$ src ) {$switch HasSuperClassRelation yes implHJPASetInvokeSuper default implHJPASetCopyPKey$$iterate Columns( each implJpaSetCopyDataCol )$$switch HasSuperClassRelation no implJpaSetCopyRevision default empty$
    }

	@Override
    public void set( I$reference BaseClass DefSchemaName$$reference BaseClass TableName$H src ) {$switch HasSuperClassRelation yes implHJPASetWithCast default implJpaSetDirect$
    }

	@Override
    public void set$TableName$( I$DefSchemaName$$TableName$H src ) {$switch HasSuperClassRelation yes implHJPASetInvokeSuper default implHJPASetCopyPKey$$iterate Columns( each implJpaSetCopyDataCol )$$switch HasSuperClassRelation no implJpaSetCopyRevision default empty$
    }
</GenRule>

    <GenRule GenDef="Table" Name="implHJPASetWithCast">
		if( src instanceof I$DefSchemaName$$TableName$H ) {
			set$TableName$( (I$DefSchemaName$$TableName$H)src );
		}
		else {
			throw new CFLibUnsupportedClassException( getClass(),
					"set",
					"src",
					src,
					"I$DefSchemaName$$TableName$H" );
		}</GenRule>

    <GenRule GenDef="Table" Name="implHJPASetCopyPKey"
        >$reference BaseClass reference PrimaryKeyIndex iterate Columns( each implJpaSetCopyPKeyCol )$</GenRule>

    <GenRule GenDef="Table" Name="implHJPASetInvokeSuper">
        super.set$reference SuperClassRelation reference ToTable TableName$( src );</GenRule>

    <GenRule GenDef="Table" Name="implToStringEmitHPKeyXmlAttrFragment">pkey.getXmlAttrFragment() </GenRule>

    <GenRule GenDef="Table" Name="implSchemaJpaTableHToString">
    public String getXmlAttrFragment() {
        String ret = $switch HasSuperClassRelation yes implToStringEmitSuper default implToStringEmitHPKeyXmlAttrFragment$$switch IsBaseTable yes implToStringEmitXmlClassCode default empty$$switch HasSuperClassRelation no implToStringEmitXmlRevision default empty$$iterate DataColumns( each implToStringEmitXmlAttr )$;
        return( ret );
    }

    public String toString() {
        String ret = "&lt;$DefSchemaName$Jpa$TableName$H" + getXmlAttrFragment() + "/&gt;";
        return( ret );
    }
</GenRule>

</RuleSet>
