<?xml version="1.0" encoding="UTF-8"?>
<!--
 *	Mark's Code Fractal CFKBase 3.1 Code Fractal Knowledge Base
 *
 *	Copyright 2016-2026 Mark Stephen Sobkow
 *
 *	This file is part of Mark's Code Fractal CFKBase.
 *
 *	Mark's Code Fractal CFKBase is available under dual commercial license from
 *	Mark Stephen Sobkow, or under the terms of the GNU General Public License,
 *	Version 3 or later.
 *
 *	Mark's Code Fractal CFKBase is free software: you can redistribute it and/or
 *	modify it under the terms of the GNU General Public License as published by
 *	the Free Software Foundation, either version 3 of the License, or
 *	(at your option) any later version.
 *
 *	Mark's Code Fractal CFKBase is distributed in the hope that it will be useful,
 *	but WITHOUT ANY WARRANTY; without even the implied warranty of
 *	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *	GNU General Public License for more details.
 *
 *	You should have received a copy of the GNU General Public License
 *	along with Mark's Code Fractal CFKBase.  If not, see &lt;https://www.gnu.org/licenses/&gt;.
 *
 *	If you wish to modify and use this code without publishing your changes,
 *	or integrate it with proprietary code, please contact Mark Stephen Sobkow
 *	for a commercial license at mark.sobkow@gmail.com
 * -->
<RuleSet
	xmlns="https://msobkow.github.io/msscf/2.0.13/xsd/cfgenkb-2.13-ruleset.xsd"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:xs="http://www.w3.org/2001/XMLSchema"
	xsi:schemaLocation="https://msobkow.github.io/msscf/2.0.13/xsd/cfgenkb-2.13-ruleset.xsd https://msobkow.github.io/msscf/2.0.13/xsd/cfgenkb-2.13-ruleset.xsd"
	ToolSet="java"
	Name="src/schema/buff/SchemaBuffSchema.java"
	Revision="2.13"
	Descr="Java 25 buffer implementation of a $SchemaName$ schema.">

	<GenFile GenDef="SchemaDef" Name="fileSchemaBuffSchemaJava"
			GenerateOnce="false"
		ModuleName="$reference ManufacturingSchema lower JavaPackage$"
		SourceBundle="java"
		BasePackageName="$reference ManufacturingSchema lower JavaPackage$.$reference ManufacturingSchema lower SchemaName$buff/src/main/java"
		SubPackageName="$reference ManufacturingSchema lower JavaPackage$.$reference ManufacturingSchema lower SchemaName$.buff"
		ExpansionClassName="$SchemaName$BuffSchemaJava"
		ExpansionKeyName="$SchemaName$BuffSchemaJava"
		ExpansionFileName="$SchemaName$BuffSchema.java"
>// Description: Java 25 buffer implementation of a $SchemaName$ schema.

$MssSourceLicense$

package $reference ManufacturingSchema lower JavaPackage$.$lower reference ManufacturingSchema SchemaName$.buff;

import java.lang.reflect.*;
import java.net.*;
import java.rmi.*;
import java.sql.*;
import java.text.*;
import java.time.*;
import java.util.*;
import io.github.msobkow.v3_1.cflib.*;
import io.github.msobkow.v3_1.cflib.dbutil.*;
import org.apache.commons.text.StringEscapeUtils;$poptop SchemaDef iterate SchemaRefs( each importJavaPackageSchemaName empty empty )$
import $reference ManufacturingSchema lower JavaPackage$.$lower reference ManufacturingSchema SchemaName$.*;$poptop SchemaDef iterate SchemaRefs( each importJavaPackageSchemaNameBuff empty empty )$

public class $SchemaName$BuffSchema
	implements I$SchemaName$Schema$iterate SchemaRefs( each commaNewlineSchemaSchemaImplementsInterface empty empty )$
{$iterate SchemaRefs( each empty empty declTablePerms )$
$iterate SchemaTables( each declSchemaBuffTableTableMember )$
$iterate SchemaTables( each declSchemaBuffTableFactoryMember )$
$implBuffSchemaClassMapInitializers$$implBuffSchemaMoreMethods$$implBuffSchemaTablePermsAccessors$$implBuffSchemaXmlEncodeString$$implSchemaBuffBootstrap$}
</GenFile>

<GenRule GenDef="SchemaDef" Name="implSchemaBuffBootstrap">
	public void bootstrapSchema() {$iterate SchemaRefs( empty implSchemaBuffBootstrapSecurity each empty )$
	}
</GenRule>

	<GenRule GenDef="Object" Name="implSchemaBuffBootstrapSecurity">$poptop SchemaDef implSchemaBuffBootstrapSecurity$</GenRule>
	<GenRule GenDef="SchemaDef" Name="implSchemaBuffBootstrapSecurity">
		$DefSchemaName$BuffSysCluster sysCluster;
		CFLibDbKeyHash256 systemClusterID;
		$DefSchemaName$BuffCluster systemCluster;
		$DefSchemaName$BuffSecUser adminUser;
		CFLibDbKeyHash256 adminUID;
		$DefSchemaName$BuffSecSession bootstrapSession;
		CFLibDbKeyHash256 bootstrapSessionID;
		$DefSchemaName$BuffTenant systemTenant;
		CFLibDbKeyHash256 systemTenantID;
		I$DefSchemaName$SysCluster[] sysClusters = getTableSysCluster().readAllDerived(null);
		if (sysClusters != null &amp;&amp; sysClusters.length == 1) {
			sysCluster = ($DefSchemaName$BuffSysCluster)(sysClusters[0]);
			systemClusterID = sysCluster.getRequiredClusterId();
			if(systemClusterID == null || systemClusterID.isNull()) {
				throw new CFLibNullArgumentException(getClass(), "bootstrapSchema", 0, "systemClusterID");
			}
			systemCluster = ($DefSchemaName$BuffCluster)(getTableCluster().readDerived(null, systemClusterID));
			if (systemCluster == null) {
				throw new CFLibNullArgumentException(getClass(), "bootstrapSchema", 0, "systemCluster");
			}
			adminUID = systemCluster.getCreatedByUserId();
			if (adminUID == null || adminUID.isNull()) {
				throw new CFLibNullArgumentException(getClass(), "bootstrapSchema", 0, "adminUID");
			}
			adminUser = ($DefSchemaName$BuffSecUser)(getTableSecUser().readDerived(null, adminUID));
			if( adminUser == null) {
				throw new CFLibNullArgumentException(getClass(), "bootstrapSchema", 0, "adminUser");
			}
			systemTenant = ($DefSchemaName$BuffTenant)(getTableTenant().readDerivedByUNameIdx(null, systemClusterID, "system"));
			if( systemTenant == null) {
				systemTenantID = null;
				throw new CFLibNullArgumentException(getClass(), "bootstrapSchema", 0, "systemTenant");
			}
			else {
				systemTenantID = systemTenant.getPKey();
			}
			bootstrapSession = ($DefSchemaName$BuffSecSession)(getTableSecSession().readDerivedByStartIdx(null, adminUID, systemCluster.getCreatedAt()));
			if (bootstrapSession == null) {
				I$DefSchemaName$SecSession[] sessions = getTableSecSession().readDerivedBySecUserIdx(null, adminUID);
				if (sessions != null) {
					for (I$DefSchemaName$SecSession cursess: sessions) {
						if (bootstrapSession == null || cursess.getRequiredStart().compareTo(bootstrapSession.getRequiredStart()) &lt; 0) {
							bootstrapSession = ($DefSchemaName$BuffSecSession)cursess;
						}
					}
				}
				if (bootstrapSession == null) {
					throw new CFLibNullArgumentException(getClass(), "bootstrapSchema", 0, "bootstrapSession");
				}
			}
			bootstrapSessionID = bootstrapSession.getPKey();
		}
		else {
			sysCluster = null;
			systemCluster = null;
			systemClusterID = null;
			adminUID = null;
			adminUser = null;
			bootstrapSession = null;
			bootstrapSessionID = null;
			systemTenant = null;
			systemTenantID = null;
		}
		LocalDateTime now = LocalDateTime.now();
		if (adminUID == null || adminUID.isNull()) {
			adminUID = new CFLibDbKeyHash256(0);
		}
		if (bootstrapSessionID == null || bootstrapSessionID.isNull()) {
			bootstrapSessionID = new CFLibDbKeyHash256(0);
		}
		if (systemClusterID == null || systemClusterID.isNull()) {
			systemClusterID = new CFLibDbKeyHash256(0);
		}
		if (systemTenantID == null || systemTenantID.isNull()) {
			systemTenantID = new CFLibDbKeyHash256(0);
		}
		if (I$SecSchemaName$Schema.getSysClusterId() == null || I$SecSchemaName$Schema.getSysClusterId().isNull()) {
			I$SecSchemaName$Schema.setSysClusterId(systemClusterID);
		}
		else if ( ! I$SecSchemaName$Schema.getSysClusterId().equals( systemClusterID )) {
			throw new CFLibInvalidArgumentException(getClass(), "bootstrapSchema", "Previously set system cluster id disagrees with new system cluster id", "Previously set system cluster id disagrees with new system cluster id");
		}
		if (I$SecSchemaName$Schema.getSysTenantId() == null || I$SecSchemaName$Schema.getSysTenantId().isNull()) {
			I$SecSchemaName$Schema.setSysTenantId(systemTenantID);
		}
		else if ( ! I$SecSchemaName$Schema.getSysTenantId().equals( systemTenantID )) {
			throw new CFLibInvalidArgumentException(getClass(), "bootstrapSchema", "Previously set system tenant id disagrees with new system tenant id", "Previously set system tenant id disagrees with new system tenant id");
		}
		if (I$SecSchemaName$Schema.getSysAdminId() == null || I$SecSchemaName$Schema.getSysAdminId().isNull()) {
			I$SecSchemaName$Schema.setSysAdminId(adminUID);
		}
		else if ( ! I$SecSchemaName$Schema.getSysAdminId().equals( adminUID )) {
			throw new CFLibInvalidArgumentException(getClass(), "bootstrapSchema", "Previously set system admin id disagrees with new system admin id", "Previously set system admin id disagrees with new system admin id");
		}

		String fqdn;
		try {
			InetAddress localHost = InetAddress.getLocalHost();
			fqdn = localHost.getCanonicalHostName();
		} catch (java.net.UnknownHostException e) {
			fqdn = "localhost";
		}
		if (systemCluster == null) {
			systemCluster = ($DefSchemaName$BuffCluster)(getFactoryCluster().newRec());
			systemCluster.setPKey(systemClusterID);
			systemCluster.setCreatedByUserId(adminUID);
			systemCluster.setUpdatedByUserId(adminUID);
			systemCluster.setCreatedAt(now);
			systemCluster.setUpdatedAt(now);
			systemCluster.setRequiredFullDomName(fqdn);
			systemCluster.setRequiredDescription("System cluster for " + fqdn);
			systemCluster = ($DefSchemaName$BuffCluster)(getTableCluster().createCluster(null, systemCluster));
			systemClusterID = systemCluster.getPKey();
		}
		if (adminUser == null) {
			adminUser = ($DefSchemaName$BuffSecUser)(getFactorySecUser().newRec());
			adminUser.setCreatedByUserId(adminUID);
			adminUser.setUpdatedByUserId(adminUID);
			adminUser.setCreatedAt(now);
			adminUser.setUpdatedAt(now);
			adminUser.setPKey(adminUID);
			adminUser.setRequiredLoginId("sysadmin");
			adminUser.setRequiredEMailAddress("sysadmin@" + fqdn);
			adminUser.setRequiredPasswordHash(I$SecSchemaName$Schema.getPasswordHash("ChangeOnInstall"));
			adminUser = ($DefSchemaName$BuffSecUser)(getTableSecUser().createSecUser(null, adminUser));
			adminUID = adminUser.getPKey();
		}
		if (systemTenant == null) {
			systemTenant = ($DefSchemaName$BuffTenant)(getFactoryTenant().newRec());
			systemTenant.setPKey(systemTenantID);
			systemTenant.setCreatedByUserId(adminUID);
			systemTenant.setUpdatedByUserId(adminUID);
			systemTenant.setCreatedAt(now);
			systemTenant.setUpdatedAt(now);
			systemTenant.setRequiredContainerCluster(systemClusterID);
			systemTenant.setRequiredTenantName("system");
			systemTenant = ($DefSchemaName$BuffTenant)(getTableTenant().createTenant(null, systemTenant));
			systemTenantID = systemTenant.getPKey();
		}
		if (bootstrapSession == null) {
			bootstrapSession = ($DefSchemaName$BuffSecSession)(getFactorySecSession().newRec());
			bootstrapSession.setPKey(bootstrapSessionID);
			bootstrapSession.setRequiredContainerSecUser(adminUID);
			bootstrapSession.setRequiredParentSecProxy(adminUID);
			bootstrapSession.setOptionalSecDevName(null);
			bootstrapSession.setRequiredStart(now);
			bootstrapSession.setOptionalFinish(null);
			bootstrapSession = ($DefSchemaName$BuffSecSession)(getTableSecSession().createSecSession(null, bootstrapSession));
			bootstrapSessionID = bootstrapSession.getPKey();
		}
		if (sysCluster == null) {
			sysCluster = ($DefSchemaName$BuffSysCluster)(getFactorySysCluster().newRec());
			sysCluster.setRequiredContainerCluster(systemClusterID);
			sysCluster = ($DefSchemaName$BuffSysCluster)(getTableSysCluster().createSysCluster(null, sysCluster));
		}
		if (bootstrapSession.getOptionalFinish() == null) {
			bootstrapSession.setOptionalFinish(LocalDateTime.now());
			bootstrapSession = ($DefSchemaName$BuffSecSession)(getTableSecSession().updateSecSession(null, bootstrapSession));
		}
</GenRule>

	<GenRule GenDef="SchemaDef" Name="implBuffSchemaClassMapInitializers">
	@Override
	public int initClassMapEntries(int value) {
		return( I$SchemaName$Schema.doInitClassMapEntries(value) );
	}

	@Override
	public void wireRecConstructors() {
		I$SecSchemaName$Schema.ClassMapEntry entry;$iterate Tables( each maybeWireBuffSchemaClassMapRecConstructor empty empty)$
	}

	@Override
	public void wireTableTableInstances() {
		throw new CFLibMustOverrideException(getClass(), "wireTableTableInstances");
	}
$iterate SchemaRefs( each implBuffSchemaGetSchemaNameSchema empty empty )$$implBuffSchemaGetSchemaNameSchema$</GenRule>

	<GenRule GenDef="SchemaRef" Name="implBuffSchemaGetSchemaNameSchema">$reference RefSchema implBuffSchemaGetSchemaNameSchema$</GenRule>
	<GenRule GenDef="SchemaDef" Name="implBuffSchemaGetSchemaNameSchema">
	@Override		
	public I$SchemaName$Schema get$SchemaName$Schema() {
		return( I$SchemaName$Schema.getBacking$SchemaName$() );
	}

	@Override
	public void set$SchemaName$Schema(I$SchemaName$Schema schema) {
		I$SchemaName$Schema.setBacking$SchemaName$(schema);
		schema.wireRecConstructors();
	}
</GenRule>

	<GenRule GenDef="Table" Name="maybeWireBuffSchemaClassMapRecConstructor">$switch HasDefSchema yes empty default wireBuffSchemaClassMapRecConstructor$</GenRule>
	<GenRule GenDef="Table" Name="wireBuffSchemaClassMapRecConstructor">
		entry = I$SchemaName$Schema.getClassMapByBackingClassCode(I$DefSchemaName$$TableName$.CLASS_CODE);
		if (entry != null) {
			entry.setBackingRecConstructor( new BackingRecConstructor() {
				@Override
				public Object instantiate() {
					I$DefSchemaName$$TableName$ ret = new $DefSchemaName$Buff$TableName$();
					return(ret);
				}
			});
		}
		else {
			throw new CFLibNullArgumentException($SchemaName$BuffSchema.class, "wireRecConstructors", 0, "I$SchemaName$Schema.getClassMapByBackingClassCode(I$DefSchemaName$$TableName$.CLASS_CODE)[" + I$DefSchemaName$$TableName$.CLASS_CODE + "]");
		}
	</GenRule>

	<GenRule GenDef="Object" Name="declTablePerms">
	protected static I$SecSchemaName$TablePerms tablePerms;</GenRule>

	<GenRule GenDef="SchemaDef" Name="implBuffSchemaMoreMethods"
		>$implBuffSchemaSchemaConstructor$$iterate SchemaRefs( first implBuffSchemaNewSchema each empty empty implBuffSchemaNewSchema )$$iterate Id16Generators( each implBuffNextIdGen empty empty)$$iterate Id32Generators( each implBuffNextIdGen empty empty)$$iterate Id64Generators( each implBuffNextIdGen empty empty)$$iterate DbKeyHash128Generators( each implBuffNextIdGen empty empty )$$iterate DbKeyHash160Generators( each implBuffNextIdGen empty empty )$$iterate DbKeyHash224Generators( each implBuffNextIdGen empty empty )$$iterate DbKeyHash256Generators( each implBuffNextIdGen empty empty )$$iterate DbKeyHash384Generators( each implBuffNextIdGen empty empty )$$iterate DbKeyHash512Generators( each implBuffNextIdGen empty empty )$$iterate UuidGenerators( each implBuffNextIdGen empty empty )$$iterate Uuid6Generators( each implBuffNextIdGen empty empty )$$iterate SchemaTables(
			each implTableMethods empty empty )$</GenRule>

	<GenRule GenDef="Table" Name="declSchemaBuffTableTableMember">
	protected I$DefSchemaName$$TableName$Table table$TableName$;</GenRule>

	<GenRule GenDef="Table" Name="declSchemaBuffTableFactoryMember">
	protected I$DefSchemaName$$TableName$Factory factory$TableName$;</GenRule>

	<GenRule GenDef="Table" Name="initSchemaBuffTableTableMember">
	table$TableName$ = null; // new $DefSchemaName$Buff$TableName$Table();</GenRule>

	<GenRule GenDef="Table" Name="initSchemaBuffTableFactoryMember">
	factory$TableName$ = new $DefSchemaName$Buff$TableName$DefaultFactory();</GenRule>

	<GenRule GenDef="Table" Name="implTableMethods"
		>$implBuffSchemaTableTableAccessors$$implBuffSchemaTableFactoryAccessors$</GenRule>

	<GenRule GenDef="SchemaDef" Name="implBuffSchemaTablePermsAccessors">
	/**
	 *	Get the Table Permissions interface for the schema.
	 *
	 *	@return	The Table Permissions interface for the schema.
	 *
	 *	@throws CFLibNotSupportedException thrown by client-side implementations.
	 */
	public static I$SecSchemaName$TablePerms getTablePerms() {
		return($poptop SchemaDef iterate SchemaRefs(first implBuffReturnThisSchemaRefGetTablePerms each empty empty implBuffReturnLocalGetTablePerms)$);
	}

	/**
	 *	Get the Table Permissions interface cast to this schema's implementation.
	 *
	 *	@return The Table Permissions interface for this schema.
	 */
	public static I$SchemaName$TablePerms get$SchemaName$TablePerms() {
		return (I$SchemaName$TablePerms)getTablePerms();
	}

	/**
	 *	Set the Table Permissions interface for the schema.  All fractal subclasses of
	 *	the I$SecSchemaName$TablePerms implement at least that interface plus their own
	 *	accessors.
	 *
	 *	@param	value	The Table Permissions interface to be used by the schema.
	 *
	 *	@throws CFLibNotSupportedException thrown by client-side implementations.
	 */
	public static void setTablePerms( I$SecSchemaName$TablePerms value ) {$poptop SchemaDef iterate SchemaRefs(first implBuffThisSchemaRefSetTablePerms each empty empty implBuffLocalSetTablePerms)$
	}
</GenRule>

	<GenRule GenDef="SchemaRef" Name="implBuffReturnThisSchemaRefGetTablePerms">$reference RefSchema SchemaName$BuffSchema.getTablePerms()</GenRule>

	<GenRule GenDef="SchemaRef" Name="implBuffThisSchemaRefSetTablePerms">
		$reference RefSchema SchemaName$BuffSchema.setTablePerms(value);</GenRule>
	
	<GenRule GenDef="Object" Name="implBuffReturnLocalGetTablePerms">tablePerms</GenRule>
	<GenRule GenDef="Object" Name="implBuffLocalSetTablePerms">
		if(value == null) {
			throw new CFLibNullArgumentException($DefSchemaName$BuffSchema.class, "setTablePerms", 1, "value");
		}
		tablePerms = value;</GenRule>

	<GenRule GenDef="Table" Name="implBuffSchemaTableTableAccessors">
	public I$DefSchemaName$$TableName$Table getTable$TableName$() {
		return( table$TableName$ );
	}

	public void setTable$TableName$( I$DefSchemaName$$TableName$Table value ) {
		table$TableName$ = value;
	}
</GenRule>

	<GenRule GenDef="Table" Name="implBuffSchemaTableFactoryAccessors">
	public I$DefSchemaName$$TableName$Factory getFactory$TableName$() {
		return( factory$TableName$ );
	}

	public void setFactory$TableName$( I$DefSchemaName$$TableName$Factory value ) {
		factory$TableName$ = value;
	}
</GenRule>

	<GenRule GenDef="Object" Name="implBuffSchemaSchemaConstructor">
	public $poptop SchemaDef SchemaName$BuffSchema() {
$poptop SchemaDef iterate SchemaTables( each initSchemaBuffTableTableMember )$
$poptop SchemaDef iterate SchemaTables( each initSchemaBuffTableFactoryMember )
$	}
</GenRule>

	<GenRule GenDef="SchemaRef" Name="implBuffSchemaNewSchema"
		>$reference RefSchema implBuffSchemaNewSchema$</GenRule>

	<GenRule GenDef="SchemaDef" Name="implBuffSchemaNewSchema">
	public I$poptop SchemaDef SchemaName$Schema newSchema() {
		throw new CFLibMustOverrideException( getClass(), "newSchema" );
	}
</GenRule>

	<GenRule GenDef="Object" Name="implBuffSchemaNewSchema">
	public I$poptop SchemaDef SchemaName$Schema newSchema() {
		throw new CFLibMustOverrideException( getClass(), "newSchema" );
	}
</GenRule>

	<GenRule GenDef="SchemaDef" Name="implBuffSchemaXmlEncodeString">
	public static String xmlEncodeString( String val ) {
		StringBuffer buff = new StringBuffer();
		int len = val.length();
		for( int idx = 0; idx &lt; len; idx ++ ) {
			char c = val.charAt( idx );
			switch( c ) {
				case '&amp;':
					buff.append( "&amp;amp;" );
					break;
				case '&lt;':
					buff.append( "&amp;lt;" );
					break;
				case '&gt;':
					buff.append( "&amp;gt;" );
					break;
				case '"':
					buff.append( "&amp;quot;" );
					break;
				case '\\'':
					buff.append( "&amp;apos;" );
					break;
				default:
					buff.append( c );
					break;
			}
		}
		return( buff.toString() );
	}
</GenRule>

	<GenRule ScopeDef="SchemaDef" GenDef="Id16Gen" Name="implBuffNextIdGen">
	/**
	 *	Get the next $Name$ identifier.
	 *
	 *	@return	The next $Name$ identifier.
	 *
	 *	@throws CFLibNotSupportedException thrown by client-side implementations.
	 */
	public short next$Name$() {
		throw new CFLibMustOverrideException(getClass(), "next$Name$");
	}
</GenRule>
	<GenRule ScopeDef="SchemaDef" GenDef="Id32Gen" Name="implBuffNextIdGen">
	/**
	 *	Get the next $Name$ identifier.
	 *
	 *	@return	The next $Name$ identifier.
	 *
	 *	@throws CFLibNotSupportedException thrown by client-side implementations.
	 */
	public int next$Name$() {
		throw new CFLibMustOverrideException(getClass(), "next$Name$");
	}
</GenRule>
	<GenRule ScopeDef="SchemaDef" GenDef="Id64Gen" Name="implBuffNextIdGen">
	/**
	 *	Get the next $Name$ identifier.
	 *
	 *	@return	The next $Name$ identifier.
	 *
	 *	@throws CFLibNotSupportedException thrown by client-side implementations.
	 */
	public long next$Name$() {
		throw new CFLibMustOverrideException(getClass(), "next$Name$");
	}
</GenRule>
	<GenRule ScopeDef="SchemaDef" GenDef="UuidGen" Name="implBuffNextIdGen">
	/**
	 *	Get the next $Name$ identifier.
	 *
	 *	@return	The next $Name$ identifier.
	 *
	 *	@throws CFLibNotSupportedException thrown by client-side implementations.
	 */
	public UUID next$Name$() {
		throw new CFLibMustOverrideException(getClass(), "next$Name$");
	}
</GenRule>
	<GenRule ScopeDef="SchemaDef" GenDef="Uuid6Gen" Name="implBuffNextIdGen">
	/**
	 *	Get the next $Name$ identifier.
	 *
	 *	@return	The next $Name$ identifier.
	 *
	 *	@throws CFLibNotSupportedException thrown by client-side implementations.
	 */
	public CFLibUuid6 next$Name$() {
		throw new CFLibMustOverrideException(getClass(), "next$Name$");
	}
</GenRule>
	<GenRule ScopeDef="SchemaDef" GenDef="DbKeyHash128Gen" Name="implBuffNextIdGen">
	/**
	 *	Get the next $Name$ identifier.
	 *
	 *	@return	The next $Name$ identifier.
	 *
	 *	@throws CFLibNotSupportedException thrown by client-side implementations.
	 */
	public CFLibDbKeyHash128 next$Name$() {
		return( new CFLibDbKeyHash128(0) );
	}
</GenRule>
	<GenRule ScopeDef="SchemaDef" GenDef="DbKeyHash160Gen" Name="implBuffNextIdGen">
	/**
	 *	Get the next $Name$ identifier.
	 *
	 *	@return	The next $Name$ identifier.
	 *
	 *	@throws CFLibNotSupportedException thrown by client-side implementations.
	 */
	public CFLibDbKeyHash160 next$Name$() {
		return( new CFLibDbKeyHash160(0) );
	}
</GenRule>
	<GenRule ScopeDef="SchemaDef" GenDef="DbKeyHash224Gen" Name="implBuffNextIdGen">
	/**
	 *	Get the next $Name$ identifier.
	 *
	 *	@return	The next $Name$ identifier.
	 *
	 *	@throws CFLibNotSupportedException thrown by client-side implementations.
	 */
	public CFLibDbKeyHash224 next$Name$() {
		return( new CFLibDbKeyHash224(0) );
	}
</GenRule>
	<GenRule ScopeDef="SchemaDef" GenDef="DbKeyHash256Gen" Name="implBuffNextIdGen">
	/**
	 *	Get the next $Name$ identifier.
	 *
	 *	@return	The next $Name$ identifier.
	 *
	 *	@throws CFLibNotSupportedException thrown by client-side implementations.
	 */
	public CFLibDbKeyHash256 next$Name$() {
		return( new CFLibDbKeyHash256(0) );
	}
</GenRule>
	<GenRule ScopeDef="SchemaDef" GenDef="DbKeyHash384Gen" Name="implBuffNextIdGen">
	/**
	 *	Get the next $Name$ identifier.
	 *
	 *	@return	The next $Name$ identifier.
	 *
	 *	@throws CFLibNotSupportedException thrown by client-side implementations.
	 */
	public CFLibDbKeyHash384 next$Name$() {
		return( new CFLibDbKeyHash384(0) );
	}
</GenRule>
	<GenRule ScopeDef="SchemaDef" GenDef="DbKeyHash512Gen" Name="implBuffNextIdGen">
	/**
	 *	Get the next $Name$ identifier.
	 *
	 *	@return	The next $Name$ identifier.
	 *
	 *	@throws CFLibNotSupportedException thrown by client-side implementations.
	 */
	public CFLibDbKeyHash512 next$Name$() {
		return( new CFLibDbKeyHash512(0) );
	}
</GenRule>

</RuleSet>
